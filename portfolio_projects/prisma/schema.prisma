// schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model LandingPage {
  id             String   @id @default(uuid())
  name           String
  slug           String   @unique
  description    String
  avatarImageUrl String
  coverImageUrl  String
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  contactInfo ContactInfo?
  projects    Project[]
}

model ContactInfo {
  id            String  @id @default(uuid())
  email         String
  phone         String?
  whatsappLink  String?
  instagramLink String?
  facebookLink  String?
  linkedinLink  String?

  // Relations
  landingpage   LandingPage @relation(fields: [landingpageId], references: [id], onDelete: Cascade)
  landingpageId String      @unique
}

model Project {
  id               String   @id @default(uuid())
  title            String
  category         String
  description      String
  fullDescription  String
  image            String
  technologies     String[] // Array de strings
  liveUrl          String?
  githubUrl        String?
  featured         Boolean  @default(false)
  status           String   @default("completed") // "completed" | "in-progress" | "planned"
  accentColor      String?  @default("from-gray-500/20 to-gray-600/20")
  position         Int      @default(0) // Para ordenação
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt

  // Relations
  landingpage   LandingPage @relation(fields: [landingpageId], references: [id], onDelete: Cascade)
  landingpageId String
}

// Modelo para administrador
model Admin {
  id        String   @id @default(uuid())
  username  String   @unique
  password  String   // Armazenaremos hash da senha
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}